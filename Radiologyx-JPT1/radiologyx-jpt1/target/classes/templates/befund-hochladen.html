<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Befund hochladen</title>
    <link th:href = "@{/css/style.css}" rel="stylesheet">
</head>
<body>

<div class="logo-container">
    <a th:href="@{/}"><img th:src="@{/images/logo2.png}"></a>
    <span class="logo-text">MedConnect</span>
</div>


<nav>
    <ul>
        <li><a th:href="@{/}">Startseite</a></li> <!-- Korrektes th:href -->
        <li><a th:href="@{/register}">Registrieren</a></li> <!-- Korrektes th:href -->
        <li><a th:href="@{/login}">Login</a></li> <!-- Korrektes th:href -->
        <li><a th:href="@{/impressum}">Impressum</a></li>
        <li th:if="${#authorization.expression('hasRole(''ARZT'')')}">
            <a th:href="@{/arzt/befund-hochladen}">Befunde hochladen</a> <!-- patientenliste soll zuerst angezeigt werden und danch ahref auf befund hochladen für den jeewiligen patienten-->
        </li>
        <li th:if="${#authorization.expression('hasRole(''ARZT'')')}">
            <a th:href="@{/arzt/termine-einsehen}">Termine einsehen</a>
        </li>
    </ul>
</nav>

<div class="befund-hochladen-h">
    <h1>Befund hochladen für Patient: <span th:text="${patient.username}"></span></h1>
</div>

<div class="befund-hochladen-container">
    <form method="post" enctype="multipart/form-data" th:action="@{/arzt/befund-hochladen/{patientId}(patientId=${patient.id})}">
        <input type="hidden" name="patientId" th:value="${patient.id}" />
        <br><br>
        <input type="hidden" name="arztId" value="1">  <!-- Hier wird die ID des eingeloggten Arztes gesetzt -->
        <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
        <input type="file" name="file">
        <br><br>
        <button type="submit">Befund hochladen</button>
    </form>
</div>

<div th:if="${successMessage}" th:text="${successMessage}" style="color: green;"></div>
<div th:if="${errorMessage}" th:text="${errorMessage}" style="color: red;"></div>

</body>
</html>